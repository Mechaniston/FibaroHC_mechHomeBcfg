{"name":"RT.TV state","type":"virtual_device","properties":{"deviceIcon":0,"currentIcon":"0","log":"","logTemp":"","mainLoop":"fibaro:call(293, \"setProperty\", \"ui.Label1.value\",\n  \"'\" .. fibaro:getGlobalValue(\"RTtvMode\") .. \"'\");\n\n\nfibaro:sleep(3000);","ui.Label1.value":"'1'","ui.Label2.value":"9","ui.Slider1.value":97,"visible":"true","rows":[{"type":"label","elements":[{"id":1,"lua":false,"waitForResponse":false,"caption":"Cur. mode:","name":"Label1","favourite":false,"main":true}]},{"type":"button","elements":[{"id":2,"lua":true,"waitForResponse":false,"caption":"ON","name":"Button11","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"RTtvMode\");\n -- 2 num code: [MenuMode_0-2 : 1 - normal, 2 - ch.sel.][OnOff_0-1]\n\nlocal restMode = string.sub(HDMIswitchMode, 1, 1);\n\nif ( string.len(restMode) ~= 1 ) then\n  restMode = \"0\";\nend\n\nfibaro:setGlobal(\"RTtvMode\",\n  restMode .. \"1\");\n","buttonIcon":0,"favourite":false,"main":true},{"id":3,"lua":true,"waitForResponse":false,"caption":"OFF","name":"Button12","empty":false,"msg":"fibaro:setGlobal(\"RTtvMode\", \"00\");\n","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":4,"lua":true,"waitForResponse":false,"caption":"MenuOff","name":"Button21","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"RTtvMode\");\n\nlocal restMode = string.sub(HDMIswitchMode, 2, 2);\n\nif ( string.len(restMode) ~= 1 ) then\n  restMode = \"1\";\nend\n\nfibaro:setGlobal(\"RTtvMode\",\n  \"0\" .. restMode);\n","buttonIcon":0,"favourite":false,"main":false},{"id":5,"lua":true,"waitForResponse":false,"caption":"MenuNrm","name":"Button22","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"RTtvMode\");\n\nlocal restMode = string.sub(HDMIswitchMode, 2, 2);\n\nif ( string.len(restMode) ~= 1 ) then\n  restMode = \"1\";\nend\n\nfibaro:setGlobal(\"RTtvMode\",\n  \"1\" .. restMode);\n","buttonIcon":0,"favourite":false,"main":false},{"id":6,"lua":true,"waitForResponse":false,"caption":"MenuOK","name":"Button23","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"RTtvMode\");\n\nlocal restMode = string.sub(HDMIswitchMode, 2, 2);\n\nif ( string.len(restMode) ~= 1 ) then\n  restMode = \"1\";\nend\n\nfibaro:setGlobal(\"RTtvMode\",\n  \"2\" .. restMode);\n","buttonIcon":0,"favourite":false,"main":false}]},{"type":"label","elements":[{"id":7,"lua":false,"waitForResponse":false,"caption":"Channel set que","name":"Label2","favourite":false,"main":false}]},{"type":"slider","elements":[{"id":8,"lua":true,"waitForResponse":false,"caption":"ChNum","name":"Slider1","msg":"fibaro:call(293, \"setProperty\", \"ui.Label2.value\",\n  math.ceil(tonumber(_sliderValue_) / 10) - 1\n  );","buttonIcon":0,"value":97,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":9,"lua":true,"waitForResponse":false,"caption":"Ch. SEND","name":"Button31","empty":false,"msg":"","buttonIcon":0,"favourite":false,"main":false}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}