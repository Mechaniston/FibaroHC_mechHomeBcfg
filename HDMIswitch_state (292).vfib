{"name":"HDMIswitch state","type":"virtual_device","properties":{"deviceIcon":0,"currentIcon":"0","log":"","logTemp":"","mainLoop":"fibaro:call(292, \"setProperty\", \"ui.Label1.value\",\n  \"'\" .. fibaro:getGlobalValue(\"HDMIswitchMode\") .. \"'\");\n\n\nfibaro:sleep(3000);","ui.Label1.value":"'5201'","visible":"true","rows":[{"type":"label","elements":[{"id":1,"lua":false,"waitForResponse":false,"caption":"Cur. mode:","name":"Label1","favourite":true,"main":true}]},{"type":"button","elements":[{"id":2,"lua":true,"waitForResponse":false,"caption":"ON","name":"Button11","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n -- 4 num code: [1stCh_1-6][2ndCh_1-6][PiPMode_0-1][OnOff_0-1]\n\nlocal restMode = string.sub(HDMIswitchMode, 1, 3);\n\nif ( string.len(restMode) ~= 3 ) then\n  restMode = \"110\";\nelse\n  restMode = string.sub(HDMIswitchMode, 1, 2) .. \"0\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\",\n  restMode .. \"1\");\n","buttonIcon":0,"favourite":false,"main":false},{"id":3,"lua":true,"waitForResponse":false,"caption":"OFF","name":"Button12","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n \nlocal restMode = string.sub(HDMIswitchMode, 1, 3);\n\nif ( string.len(restMode) ~= 3 ) then\n  restMode = \"110\";\nelse\n  restMode = string.sub(HDMIswitchMode, 1, 2) .. \"0\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\",\n  restMode .. \"0\");\n","buttonIcon":0,"favourite":false,"main":false},{"id":4,"lua":true,"waitForResponse":false,"caption":"PiPon","name":"Button13","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n \nlocal restMode1 = string.sub(HDMIswitchMode, 1, 2);\nlocal restMode2 = string.sub(HDMIswitchMode, 4, 4);\n\nif ( string.len(restMode1 .. restMode2) ~= 3 ) then\n  restMode1 = \"11\";\n  restMode2 = \"1\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\",\n  restMode1 .. \"1\" .. restMode2);\n","buttonIcon":0,"favourite":false,"main":false},{"id":5,"lua":true,"waitForResponse":false,"caption":"PiPoff","name":"Button14","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n \nlocal restMode1 = string.sub(HDMIswitchMode, 1, 2);\nlocal restMode2 = string.sub(HDMIswitchMode, 4, 4);\n\nif ( string.len(restMode1 .. restMode2) ~= 3 ) then\n  restMode1 = \"11\";\n  restMode2 = \"0\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\",\n  restMode1 .. \"0\" .. restMode2);\n","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":6,"lua":true,"waitForResponse":false,"caption":"11 hmCm","name":"Button21","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n\nlocal restMode = string.sub(HDMIswitchMode, 2, 4);\n\nif ( string.len(restMode) ~= 3 ) then\n  restMode = \"101\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\",\n  \"1\" .. restMode);\n","buttonIcon":0,"favourite":false,"main":false},{"id":7,"lua":true,"waitForResponse":false,"caption":"12 RTTV","name":"Button22","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n\nlocal restMode = string.sub(HDMIswitchMode, 2, 4);\n\nif ( string.len(restMode) ~= 3 ) then\n  restMode = \"101\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\",\n  \"2\" .. restMode);\n","buttonIcon":0,"favourite":false,"main":true},{"id":8,"lua":true,"waitForResponse":false,"caption":"13 mnCm","name":"Button23","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n\nlocal restMode = string.sub(HDMIswitchMode, 2, 4);\n\nif ( string.len(restMode) ~= 3 ) then\n  restMode = \"101\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\",\n  \"3\" .. restMode);\n","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":9,"lua":true,"waitForResponse":false,"caption":"14 BDpl","name":"Button31","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n\nlocal restMode = string.sub(HDMIswitchMode, 2, 4);\n\nif ( string.len(restMode) ~= 3 ) then\n  restMode = \"101\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\",\n  \"4\" .. restMode);\n","buttonIcon":0,"favourite":false,"main":false},{"id":10,"lua":true,"waitForResponse":false,"caption":"15 drCm","name":"Button32","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n\nlocal restMode = string.sub(HDMIswitchMode, 2, 4);\n\nif ( string.len(restMode) ~= 3 ) then\n  restMode = \"101\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\",\n  \"5\" .. restMode);\n","buttonIcon":0,"favourite":false,"main":false},{"id":11,"lua":true,"waitForResponse":false,"caption":"16*empt","name":"Button33","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n\nlocal restMode = string.sub(HDMIswitchMode, 2, 4);\n\nif ( string.len(restMode) ~= 3 ) then\n  restMode = \"101\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\",\n  \"6\" .. restMode);\n","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":12,"lua":true,"waitForResponse":false,"caption":"21 mnCm","name":"Button41","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n\nlocal restMode1 = string.sub(HDMIswitchMode, 1, 1);\nlocal restMode2 = string.sub(HDMIswitchMode, 3, 4);\n\nif ( string.len(restMode1 .. restMode2) ~= 3 ) then\n  restMode1 = \"1\";\n  restMode2 = \"01\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\", restMode1 ..\n  \"1\" .. restMode2);\n","buttonIcon":0,"favourite":false,"main":false},{"id":13,"lua":true,"waitForResponse":false,"caption":"22 RTTV","name":"Button42","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n\nlocal restMode1 = string.sub(HDMIswitchMode, 1, 1);\nlocal restMode2 = string.sub(HDMIswitchMode, 3, 4);\n\nif ( string.len(restMode1 .. restMode2) ~= 3 ) then\n  restMode1 = \"1\";\n  restMode2 = \"01\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\", restMode1 ..\n  \"2\" .. restMode2);\n","buttonIcon":0,"favourite":false,"main":false},{"id":14,"lua":true,"waitForResponse":false,"caption":"23 mnCm","name":"Button43","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n\nlocal restMode1 = string.sub(HDMIswitchMode, 1, 1);\nlocal restMode2 = string.sub(HDMIswitchMode, 3, 4);\n\nif ( string.len(restMode1 .. restMode2) ~= 3 ) then\n  restMode1 = \"1\";\n  restMode2 = \"01\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\", restMode1 ..\n  \"3\" .. restMode2);\n","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":15,"lua":true,"waitForResponse":false,"caption":"24 !DBpl","name":"Button51","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n\nlocal restMode1 = string.sub(HDMIswitchMode, 1, 1);\nlocal restMode2 = string.sub(HDMIswitchMode, 3, 4);\n\nif ( string.len(restMode1 .. restMode2) ~= 3 ) then\n  restMode1 = \"1\";\n  restMode2 = \"01\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\", restMode1 ..\n  \"4\" .. restMode2);\n","buttonIcon":0,"favourite":false,"main":false},{"id":16,"lua":true,"waitForResponse":false,"caption":"25 drCm","name":"Button52","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n\nlocal restMode1 = string.sub(HDMIswitchMode, 1, 1);\nlocal restMode2 = string.sub(HDMIswitchMode, 3, 4);\n\nif ( string.len(restMode1 .. restMode2) ~= 3 ) then\n  restMode1 = \"1\";\n  restMode2 = \"01\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\", restMode1 ..\n  \"5\" .. restMode2);\n","buttonIcon":0,"favourite":false,"main":false},{"id":17,"lua":true,"waitForResponse":false,"caption":"26*empt","name":"Button53","empty":false,"msg":"local HDMIswitchMode = fibaro:getGlobalValue(\"HDMIswitchMode\");\n\nlocal restMode1 = string.sub(HDMIswitchMode, 1, 1);\nlocal restMode2 = string.sub(HDMIswitchMode, 3, 4);\n\nif ( string.len(restMode1 .. restMode2) ~= 3 ) then\n  restMode1 = \"1\";\n  restMode2 = \"01\";\nend\n\nfibaro:setGlobal(\"HDMIswitchMode\", restMode1 ..\n  \"6\" .. restMode2);\n","buttonIcon":0,"favourite":false,"main":false}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}